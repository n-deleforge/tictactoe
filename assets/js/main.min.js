const GRID=3,COLOR_PLAYER1=getVariableCSS("color-p1"),COLOR_PLAYER2=getVariableCSS("color-p2"),COLOR_DRAW=getVariableCSS("color-draw");let gameTable,listCases,lastCell,currentPlayer=rand(1,2);function createGame(){get("#footer").innerHTML=CONTENT.footerInGame,get("#player").style.display="flex",get(".buttonList")[0].style.display="none",get("#play").style.display="none",checkPlayer(),(gameTable=new Array(GRID*GRID)).fill(" "),listCases=get(".case");for(let e=0;e<listCases.length;e++)listCases[e].innerHTML="",listCases[e].addEventListener("click",()=>{play(e)})}function play(e){if(" "==gameTable[lastCell=e]){get("#writing").play(),navigator.vibrate("50"),gameTable[lastCell]=1==currentPlayer?'<span class="tic">X</span>':'<span class="tac">O</span>';for(let e=0;e<GRID*GRID;e++)listCases[e].innerHTML=gameTable[e];checkVictory()}}function checkPlayer(e=!1){1==e&&(currentPlayer=1==currentPlayer?2:1),get("#player").style.color=1==currentPlayer?COLOR_PLAYER1:COLOR_PLAYER2,get("#player").innerHTML=CONTENT.turn_part1+currentPlayer+CONTENT.turn_part2}function checkVictory(){let e=gameTable[lastCell];gameTable[0]==e&&gameTable[1]==e&&gameTable[2]==e||gameTable[3]==e&&gameTable[4]==e&&gameTable[5]==e||gameTable[6]==e&&gameTable[7]==e&&gameTable[8]==e||gameTable[0]==e&&gameTable[3]==e&&gameTable[6]==e||gameTable[1]==e&&gameTable[4]==e&&gameTable[7]==e||gameTable[2]==e&&gameTable[5]==e&&gameTable[8]==e||gameTable[0]==e&&gameTable[4]==e&&gameTable[8]==e||gameTable[2]==e&&gameTable[4]==e&&gameTable[6]==e?(endGame(),get("#player").style.color=1==currentPlayer?COLOR_PLAYER1:COLOR_PLAYER2,get("#player").innerHTML=CONTENT.win_part1+currentPlayer+CONTENT.win_part2):-1==gameTable.indexOf(" ")?(endGame(),get("#player").style.color=COLOR_DRAW,get("#player").innerHTML=CONTENT.draw):checkPlayer(!0)}function endGame(){get("#board").style.display="none",get(".buttonList")[0].style.display="flex",get("#reload").style.display="block",get("#player").style.fontSize="3em"}function switchLanguage(){"FR"==getCookie("GAMZ-language")?setCookie("GAMZ-language","EN"):setCookie("GAMZ-language","FR"),location.reload()}get("#reload").addEventListener("click",()=>{document.location.reload()}),get("#switchLanguage").addEventListener("click",switchLanguage),get("#play").addEventListener("click",createGame);