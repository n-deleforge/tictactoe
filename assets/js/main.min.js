const GRID=3,COLOR_PLAYER1=getVariableCSS("color-p1"),COLOR_PLAYER2=getVariableCSS("color-p2"),COLOR_DRAW=getVariableCSS("color-draw");let _gameTable,_listCases,_lastCell,_currentPlayer=rand(1,2);function createGame(){get("#footer").innerHTML=CONTENT.footerInGame,get("#player").style.display="flex",get(".buttonList")[0].style.display="none",get("#play").style.display="none",checkPlayer(),(_gameTable=new Array(GRID*GRID)).fill(" "),(_listCases=get(".case")).forEach((e,a)=>{e.innerHTML="",e.addEventListener("click",()=>{play(a)})})}function play(e){if(" "==_gameTable[_lastCell=e]){get("#writing").play(),navigator.vibrate("50"),_gameTable[_lastCell]=1==_currentPlayer?'<span class="tic">X</span>':'<span class="tac">O</span>';for(let e=0;e<GRID*GRID;e++)_listCases[e].innerHTML=_gameTable[e];checkVictory()}}function checkPlayer(e=!1){1==e&&(_currentPlayer=1==_currentPlayer?2:1),get("#player").style.color=1==_currentPlayer?COLOR_PLAYER1:COLOR_PLAYER2,get("#player").innerHTML=CONTENT.turn_part1+_currentPlayer+CONTENT.turn_part2}function checkVictory(){let e=_gameTable[_lastCell];_gameTable[0]==e&&_gameTable[1]==e&&_gameTable[2]==e||_gameTable[3]==e&&_gameTable[4]==e&&_gameTable[5]==e||_gameTable[6]==e&&_gameTable[7]==e&&_gameTable[8]==e||_gameTable[0]==e&&_gameTable[3]==e&&_gameTable[6]==e||_gameTable[1]==e&&_gameTable[4]==e&&_gameTable[7]==e||_gameTable[2]==e&&_gameTable[5]==e&&_gameTable[8]==e||_gameTable[0]==e&&_gameTable[4]==e&&_gameTable[8]==e||_gameTable[2]==e&&_gameTable[4]==e&&_gameTable[6]==e?(endGame(),get("#player").style.color=1==_currentPlayer?COLOR_PLAYER1:COLOR_PLAYER2,get("#player").innerHTML=CONTENT.win_part1+_currentPlayer+CONTENT.win_part2):-1==_gameTable.indexOf(" ")?(endGame(),get("#player").style.color=COLOR_DRAW,get("#player").innerHTML=CONTENT.draw):checkPlayer(!0)}function endGame(){get("#board").style.display="none",get(".buttonList")[0].style.display="flex",get("#reload").style.display="block",get("#player").style.fontSize="2em"}get("#play").addEventListener("click",createGame),get("#reload").addEventListener("click",()=>{document.location.reload()});